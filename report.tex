\documentclass[titlepage,12pt,a4paper,times]{book}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage[T1]{fontenc}
\usepackage{makeidx}
\usepackage{xspace}
\usepackage{graphicx,color,times}
\usepackage{fancyhdr}
% \usepackage{pxfonts}
% \usepackage{times}
% \usepackage{mathptm}
% \usepackage{amssymb}
% \usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage[printonlyused]{acronym}
\usepackage{float}
\usepackage{listings}
\usepackage{tocbibind}
\usepackage{wrapfig}
\usepackage{natbib}
\usepackage{hyperref}
% \usepackage{glossaries}
% \makeglossaries
\usepackage{etoolbox}

% reset acronyms every chapter
\preto\chapter{\acresetall}

\renewcommand{\ttdefault}{phv}

\pagestyle{fancy}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\fancyhf{} \fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[LO]{\bfseries\rightmark}
\fancyhead[RE]{\bfseries\leftmark}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0pt}
\addtolength{\headheight}{0.5pt}
\setlength{\marginparsep}{0cm}
\setlength{\marginparwidth}{0cm}
\setlength{\marginparpush}{0cm}
\addtolength{\hoffset}{-1.0cm}
\addtolength{\oddsidemargin}{\evensidemargin}
\addtolength{\oddsidemargin}{0.5cm}
\addtolength{\evensidemargin}{-0.5cm}


% NEW COLORS
\definecolor{dark}{gray}{0.25}
\definecolor{lgray}{gray}{0.9}
\definecolor{dkblue}{rgb}{0,0.13,0.4}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{ %
  language=C,                    basicstyle=\footnotesize,
  numbers=none,                  numberstyle=\tiny\color{gray},
  stepnumber=1,                  numbersep=5pt,
  backgroundcolor=\color{white}, showspaces=false,
  showstringspaces=false,        showtabs=false,
  frame=single,                  rulecolor=\color{black},
  tabsize=2,                     captionpos=b,
  breaklines=true,               breakatwhitespace=false,
  title=\lstname,                keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},  stringstyle=\color{mauve},
  escapeinside={\%*}{*)},        morekeywords={*},
  belowskip=0cm
}


\begin{document}

\include{cover}

\clearpage{\thispagestyle{empty}\cleardoublepage}

\frontmatter
\chapter*{Acknowledgments}
\label{chap:ack}

I would like to thank very many people for putting up with me and eventually I
will write this properly, but not right now :D

\tableofcontents

\clearpage{\thispagestyle{empty}\cleardoublepage}

\listoffigures

\begin{acronym}[OS]
  \acro{OS}{Operating System}
\end{acronym}

% Se não existirem tabelas, comentar as seguintes linhas
\clearpage{\thispagestyle{empty}\cleardoublepage}
\listoftables

% \listoflistings

\begin{acronym}
  \acro{OS}{Operating System}
  \acro{RTEMS}{Real-Time Executive for Multiprocessor Systems}
  \acro{GCC}{GNU Compiler Collection}
\end{acronym}

% \clearpage{\pagestyle{empty}\cleardoublepage}
% \include{glossary}

\clearpage{\thispagestyle{empty}\cleardoublepage}

\mainmatter
\chapter{Introduction}
\label{chap:intro}

\section{Background}
\label{sec:amb}

Os acrónimos devem ser definidos recorrendo ao pacote (\emph{package})
\texttt{acronym}, usando os comandos \texttt{\textbackslash acro},
\texttt{\textbackslash ac}, \texttt{\textbackslash acp}, etc. E.g., \emph{The
subject of this report is network protocols, namely \ac{OS}.  \ac{OS} is
studied for several aspects of performance.}

\section{Motivation}
\label{sec:mot}

\section{Objectives}
\label{sec:obj}

\section{Document organization}
\label{sec:organ}
% !POR EXEMPLO!
De modo a refletir o trabalho que foi feito, este documento encontra-se
estruturado da seguinte forma:
\begin{enumerate}
\item O primeiro capítulo -- \textbf{Introdução} -- apresenta o projeto, a
	motivação para a sua escolha, o enquadramento para o mesmo, os seus
	objetivos e a respetiva organização do documento.
\item O segundo capítulo -- \textbf{Tecnologias Utilizadas} -- descreve os
	conceitos mais importantes no âmbito deste projeto, bem como as tecnologias
	utilizadas durante do desenvolvimento da aplicação.
\item ...
\end{enumerate}

%
\section{Algumas Dicas -- Retirar da Versão Final}
% ALGUMAS DICAS
Os relatórios de projeto são individuais e preparados em \LaTeX, seguindo o
formato disponível na página da unidade curricular. Deve ser prestada especial
atenção aos seguintes pontos:
\begin{enumerate}
  \item O relatório deve ter um capítulo Introdução e Conclusões e Trabalho
	  Futuro (ou só Conclusões);
  \item A última secção do primeiro capítulo deve descrever suscintamente a
	  organização do documento;
  \item O relatório pode ser escrito em Língua Portuguesa ou Inglesa;
  \item Todas as imagens ou tabelas devem ter legendas e ser referidas no texto
	  (usando comando \texttt{\textbackslash ref\{\}}).
\end{enumerate}

\chapter{Priority Inversion}
\label{chap:pi}

\section{Introduction}
\label{chap2:sec:intro}
Cada capítulo \underline{intermédio} deve começar com uma breve introdução onde
é explicado com um pouco mais de detalhe qual é o tema deste capítulo, e como é
que se encontra organizado (i.e., o que é que cada secção seguinte discute).

\section{Secções Intermediarias}
\label{chap2:sec:...}

\section{Conclusions}
\label{chap2:sec:concs}
Cada capítulo \underline{intermédio} deve referir o que demais importante se
conclui desta parte do trabalho, de modo a fornecer a motivação para o capítulo
ou passos seguintes.

\chapter{Rhealstone Test Suite}
\label{chap:rts}

\section{Introduction}
\label{chap2:sec:intro}
Cada capítulo \underline{intermédio} deve começar com uma breve introdução onde
é explicado com um pouco mais de detalhe qual é o tema deste capítulo, e como é
que se encontra organizado (i.e., o que é que cada secção seguinte discute).

\section{Secções Intermediarias}
\label{chap2:sec:...}

\section{Conclusions}
\label{chap2:sec:concs}
Cada capítulo \underline{intermédio} deve referir o que demais importante se
conclui desta parte do trabalho, de modo a fornecer a motivação para o capítulo
ou passos seguintes.

\chapter{Tecnologias e Ferramentas Utilizadas}
\label{chap:tecno-ferra}

\section{Introdução}
\label{chap3:sec:intro}
Cada capítulo \underline{intermédio} deve começar com uma breve introdução onde
é explicado com um pouco mais de detalhe qual é o tema deste capítulo, e como é
que se encontra organizado (i.e., o que é que cada secção seguinte discute).

\section{Secções Intermédias}
\label{chap3:sec:...}

A tabela~\ref{tab:exemplo} serve apenas o propósito da exemplificação de como
se fazem tabelas em \LaTeX.
%
\begin{table}
\centering
\begin{tabular}{|c|lr|}
\hline
\textbf{campo 1} & \textbf{campo 2} & \textbf{campo 3}\\
\hline
\hline
14 & 15 & 16 \\
\hline
13 & 13 & 13 \\
\hline
\end{tabular}
\caption{Esta é uma tabela de exemplo.}
\label{tab:exemplo}
\end{table}

\section{Conclusões}
\label{chap3:sec:concs}
Cada capítulo \underline{intermédio} deve referir o que demais importante se
conclui desta parte do trabalho, de modo a fornecer a motivação para o capítulo
ou passos seguintes.

\chapter{Implementation and tests}
% Os titulos dados aos capítulos são meros exemplos. Cada relatório deve
% adequar-se ao projeto desenvolvido.
\label{chap:imp-test}

\section{Introduction}
\label{chap4:sec:intro}
Cada capítulo \underline{intermédio} deve começar com uma breve introdução onde
é explicado com um pouco mais de detalhe qual é o tema deste capítulo, e como é
que se encontra organizado (i.e., o que é que cada secção seguinte discute).

\section{Secções Intermédias}
\label{chap4:sec:...}

O trecho de código seguinte mostra a função \texttt{main()} e o seu
funcionamento:
\begin{lstlisting}[caption=Trecho de código usado no projeto.]
#include <stdio.h>

int main(){
  int i = 0;
  for(i = 0; i < 100; i++)
    printf("%d\n",i);
}
\end{lstlisting}

Se quiser definir a distribuição de Pareto, posso colocar a fórmula
\emph{inline}, da seguinte forma $P(x)=\frac{x^{1/\Lambda}_{i}}{2}$, ou numa
linha em separada, como se mostra a seguir:
$$ y^2 = \sum_{x=0}^{20}( x^3 - 2x + 3).$$

Outra maneira, mas numerada, é usar o ambiente \texttt{equation}, como se
mostra na (\ref{eq:eq1}):
\begin{equation}
 y^2 = \sum_{x=0}^{20}( x^3 - 2x + 3).
 \label{eq:eq1}
\end{equation}

\begin{align}
 2+2+2+2+2+2+2+2+2+2+y^2 = & \sum_{x=0}^{20}( x^3 - 2x + 3);\\
                         = & x^4 -2.
 \label{eq:eq2}
\end{align}

\section{Conclusions}

\label{chap4:sec:concs}
Cada capítulo \underline{intermédio} deve referir o que demais importante se
conclui desta parte do trabalho, de modo a fornecer a motivação para o capítulo
ou passos seguintes.

\chapter{Conlusions and future work}
\label{chap:conc-future-work}

\section{Main Conclusions}
\label{sec:main-conc}

Esta secção contém a resposta à questão: \\
\emph{Quais foram as conclusões princípais a que o(a) aluno(a) chegou no fim
deste trabalho?}

\section{Future work}
\label{sec:future-work}

Esta secção responde a questões como:\\
\emph{O que é que ficou por fazer, e porque?}\\
\emph{O que é que seria interessante fazer, mas não foi feito por não ser
exatamente o objetivo deste trabalho?}\\
\emph{Em que outros casos ou situações ou cenários -- que não foram estudados
no contexto deste projeto por não ser seu objetivo -- é que o trabalho aqui
descrito pode ter aplicações interessantes e porque?}

% SE EXISTIREM APENDICES, DESCOMENTAR O QUE ESTÁ EM BAIXO
% \appendix
% \include{apendice1}
% \clearpage{\pagestyle{empty}\cleardoublepage}
% \include{continuacao}
% \clearpage{\pagestyle{empty}\cleardoublepage}
% \include{apendice2}
% \clearpage{\pagestyle{empty}\cleardoublepage}
% \include{apendice3}
% \clearpage{\pagestyle{empty}\cleardoublepage}

\backmatter

\bibliographystyle{plain}
\thebibliography{bibliography}

\end{document}
